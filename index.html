<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" />
<title>IBMULATOR</title>
</head>
<body>
<div class="center">
<img src="ibmulator.png" alt="IBMulator"/>
</div>
<h1 id="top">IBMulator - The IBM PS/1 Emulator</h1>
<ul class="menu">
<li><a href="#about">About</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#media">Media</a></li>
<li><a href="#download">Download</a></li>
<li><a href="#usage">Usage</a>
<li><a href="#FAQ">FAQ</a>
<li><a href="#contact">Contact</a></li>
<li><a href="#disclaimer">Disclaimer</a>
</li>
</ul>

<hr />

<a href="#top"><h2 id="about">About</h2></a>
<p>
IBMulator is a free/libre, open source emulator for the <a href="https://en.wikipedia.org/wiki/IBM_PS/1">IBM PS/1</a>, 
able to run with the original ROM. 
The goal is to create a faithful simulator capable of recreate the look and feel of the real machine.
</p>

<p>
IBMulator can emulate the following systems:
</p>
<ul>
<li>IBM PS/1 model 2011 (80286 10MHz)</li>
<li>IBM PS/1 model 2121 (80386SX 16MHz ~ 20MHz)</li>
</ul>

<p>
The program is still in active development so expect bugs and missing features.
</p>

<hr />

<a href="#top"><h2 id="features">Features</h2></a>
<ul>
<li>Works with the original IBM ROM.<br />IBM's peculiar 4-quad GUI and BASIC programming environment included!</li>
<li>PS/1 Audio Card emulation.<br />8-bit DAC and a Programmable Sound Generator with 3 voices plus noise.</li>
<li>HDD and floppy emulation.<br />You can use standard floppy and HDD images in LBA format. The IBM's HDD 8-bit RLL interface is also emulated, so no additional IDE roms workarounds are needed.</li>
<li>Realistic timings.<br />The 286 and 386 CPUs, the WDL-330P HDD, and the integrated VGA are as painfully slow as in the original, for the truest PS/1 experience. The Prefetch Queue is also emulated, so games like JetFighter work as expected.</li>
<li>OpenGL video output with shaders.<br />The video output can be manipulated with standard GLSL shaders; included is the <a href="https://www.shadertoy.com/view/XsjSzR">CRT shader by Timothy Lottes</a></li>
<li>DSP filters.<br />Audio channels can be filtered with filters like Low Pass, High Pass, and many others, so that the PC-Speaker can be reproduced as it was originally intended, in all its lo-fi glory</li>
<li>Sound effects.<br />Emulation of the working noises generated by the floppy drive, the HDD, and the system unit fans.</li>
<li>State recording and resuming.</li>
<li>Screenshots, audio WAV capture, and VGM dumping.<br />When an audio recording is started, music data from PS/1 and AdLib audio cards are also saved in <a href="https://en.wikipedia.org/wiki/VGM_%28file_format%29">VGM format.</a></li>
<li>Full OpenGL GUI.<br />Triple mode of operation: compact, normal, and realistic, for an added sense of realism.</li>
<li>Debugging tools.</li>
<li>Multithreaded.<br />OpenGL rendering, CPU core, and sound generation are on separate threads, so your multi-core beast has some spare cycles for overclocking that puny 286.</li>
<li>Highly configurable.<br />You can create a dream PS/1 configuration, with 500MB HDD, 16MB RAM and a blazingly fast 40MHz 386 CPU, if you want to.</li>
<li>Multiplatform.<br />Runs in Windows and Linux, 64-bit only though because this is the 21st century.</li>
</ul>
<h3>Currently missing features that I wish to implement, some day ...</h3>
<ul>
<li>MIDI output with redirection to an external sound module (like a real MT-32.)</li>
<li>Emulation for Sound Blaster audio and NE2000 network cards.</li>
<li>Video capture.</li>
<li>Comprehensive configuration GUI and multiple save state support.</li>
</ul>

<hr />

<a href="#media"><h2 id="media">Media</h2></a>
<div class="media">
<div class="images">
<a href="media/01_romshell.png"><img src="media/thumbs/01_romshell.png" /></a>
<a href="media/02_prgdid.png"><img src="media/thumbs/02_prgdid.png" /></a>
<a href="media/03_dosshell.png"><img src="media/thumbs/03_dosshell.png" /></a>
<a href="media/04_c.png"><img src="media/thumbs/04_c.png" /></a>
<a href="media/05_floppysel.png"><img src="media/thumbs/05_floppysel.png" /></a>
<a href="media/06_a.png"><img src="media/thumbs/06_a.png" /></a>
<a href="media/07_shader.png"><img src="media/thumbs/07_shader.png" /></a>
<a href="media/08_configur.png"><img src="media/thumbs/08_configur.png" /></a>
<a href="media/09_works.png"><img src="media/thumbs/09_works.png" /></a>
<a href="media/10_checkit.png"><img src="media/thumbs/10_checkit.png" /></a>
<a href="media/11_prince.png"><img src="media/thumbs/11_prince.png" /></a>
<a href="media/12_win31.png"><img src="media/thumbs/12_win31.png" /></a>
<a href="media/13_realistic.jpg"><img src="media/thumbs/13_realistic.png" /></a>
</div>
</div>


<div class="contentBlock"></div>



<hr />

<a href="#top"><h2 id="download">Download</h2></a>
<p>
Releases in binary form can be downloaded here:<br />
<a href="https://github.com/barotto/IBMulator/releases">
https://github.com/barotto/IBMulator/releases/</a>
</p>
<p>
If you're feeling brave and want to try bleeding edge code (or if you want to contribute), use the git
repository:<br />
<a href="https://github.com/barotto/IBMulator">
https://github.com/barotto/IBMulator</a>
</p>
<p>
ROMs and disk images are copyrighted materials and must be downloaded elsewhere 
(<a href="https://www.google.com/search?q=ibm+ps%2F1+rom+images">hint</a>).
</p>

<hr />

<a href="#top"><h2 id="usage">Usage</h2></a>
<h3>TL;DR version</h3>
<ol>
<li><a href="https://www.google.com/search?q=ibm+ps%2F1+rom+images">Obtain</a> a ROM set</li>
<li>Launch the program</li>
<li>Edit ibmulator.ini and specify the ROM set name</li>
<li>Relaunch and enjoy</li>
</ol>
<h3>Full version</h3>
<p>
Please see the <a href="https://github.com/barotto/IBMulator/blob/master/README.md">README</a> file included in the package.
</p>

<h3>Supported ROM versions</h3>
<p>
This is the list of supported ROM BIOS versions and the default configurations that IBMulator selects when it loads them:
</p>
<table>
<tr><th>ROM version</th><th>PS/1 model</th><th>CPU</th><th>RAM</th><th>Storage</th></tr>
<tr>
	<td>
		P/N: 1057756 (Original US model)<br />MD5: f605396b48f02c5e81bc9e5e5fb60717
	</td>
	<td>
		PS/1 2011-C34
	</td>
	<td>
		80286 @ 10MHz
	</td>
	<td>
		512KB + 512KB
	</td>
	<td>
		3.5" 1.44 FDD<br />Type 35 8-bit HDD (30MB)
	</td>
</tr>
<tr>
	<td>
		P/N: 1057760<br />MD5: 9cac91f1fa7fe58d9509b754785f7fd2
	</td>
	<td>
		PS/1 2011-C34
	</td>
	<td>
		80286 @ 10MHz
	</td>
	<td>
		512KB + 512KB
	</td>
	<td>
		3.5" 1.44 FDD<br />Type 35 8-bit HDD (30MB)
	</td>
</tr>
<tr>
	<td>
		P/N: 92F9674<br />MD5: 159413f190f075b92ffb882331c70eaf
	</td>
	<td>
		PS/1 2121-B82
	</td>
	<td>
		80386SX @ 16MHz
	</td>
	<td>
		2048KB
	</td>
	<td>
		3.5" 1.44 FDD<br />Type 43 ATA HDD (81MB)
	</td>
</tr>
<tr>
	<td>
		P/N: 92F9606<br />MD5: 7b5f6e3803ee57fd95047738d36f12fd
	</td>
	<td>
		PS/1 2121-B82
	</td>
	<td>
		80386SX @ 16MHz
	</td>
	<td>
		2048KB
	</td>
	<td>
		3.5" 1.44 FDD<br />Type 43 ATA HDD (81MB)
	</td>
</tr>
<tr>
	<td>
		P/N: 93F2455<br />MD5: 01ae622ab197b057c92ad7832f868b4c
	</td>
	<td>
		PS/1 2121-A82
	</td>
	<td>
		80386SX @ 20MHz
	</td>
	<td>
		2048KB
	</td>
	<td>
		3.5" 1.44 FDD<br />Type 43 ATA HDD (81MB)
	</td>
</tr>
</table>

<p>
Everything can be overridden in the ibmulator.ini file.
</p>

<h3>HDD types</h3>
<p>These are the BIOS supported HDD types:</p>
<pre>
Type   Cyl.   Heads    Sect.   Write    Land     Size
                               p-comp   Zone

 0       0      0        0         0       0    (none)
 1     306      4       17       128     305     10MB
 2     615      4       17       300     615     20MB
 3     615      6       17       300     615     31MB
 4     940      8       17       512     940     62MB
 5     940      6       17       512     940     47MB
 6     615      4       17        -1     615     20MB
 7     462      8       17       256     511     31MB
 8     733      5       17        -1     733     30MB
 9     900     15       17        -1     901    112MB
10     820      3       17        -1     820     20MB
11     855      5       17        -1     855     35MB
12     855      7       17        -1     855     50MB
13     306      8       17       128     319     20MB
14     733      7       17        -1     733     43MB
15       0      0        0         0       0    (none)
16     612      4       17         0     663     20MB
17     977      5       17       300     977     41MB
18     977      7       17        -1     977     57MB
19    1024      7       17       512    1023     59MB
20     733      5       17       300     732     30MB
21     733      7       17       300     732     43MB
22     733      5       17       300     733     30MB
23     306      4       17         0     336     10MB
24     612      4       17       305     663     20MB
25     306      4       17        -1     340     10MB
26     612      4       17        -1     670     20MB
27     698      7       17       300     732     41MB
28     976      5       17       488     977     40MB
29     306      4       17         0     340     10MB
30     611      4       17       306     663     20MB
31     732      7       17       300     732     43MB
32    1023      5       17        -1    1023     42MB
33     614      4       25        -1     663     30MB
34     775      2       27        -1     900     20MB
35     921      2       33        -1    1000     30MB
36     402      4       26        -1     460     20MB
37     580      6       26        -1     640     44MB
38     845      2       36        -1    1023     30MB
39     769      3       36        -1    1023     41MB
40     531      4       39        -1     532     40MB
41     577      2       36        -1    1023     20MB
42     654      2       32        -1     674     20MB
43     923      5       36        -1    1023     81MB
44     531      8       39        -1     532     81MB
45                  -- unused --
46                  -- unused --
47             -- user defined type --
</pre>
<p>
<em>Note:</em> the biggest formattable hdd you can define (type 47) for model 2011 is 496MiB (CHS 1024/16/62), due to a BIOS bug that limits the sectors per track to 62 instead of 63.
</p>


<hr />

<a href="#top"><h2 id="FAQ">FAQ</h2></a>

For the current list of known bugs please see the <a href="https://github.com/barotto/IBMulator/issues">GitHub's issue tracker</a>.

<dl>

<dt>Where am I supposed to put the ROM and what should I write in the ini file?</dt>
<dd>The easiest way is to put the ROM inside the same folder of ibmulator.ini and write its filename in the [system] section. 
If you want to put the ROM somewhere else then write its full path in the ini file.</dd>


<dt>I can't seem to manually navigate to my disk images on the D: drive, from the floppy file explorer. What now?</dt>
<dd>
Unfortunately IBMulator is not complete, yet. On Windows the floppy file explorer can't move from a disk drive partition letter to another, so I suggest you to put the full path of your disk images directory in the media_dir ini file setting, under the [program] section. As to why IBMulator can't do something so basic as to navigate to a different drive letter, please consider that I'm a Linux developer and on Linux there's no such thing as a "drive letter"... ;)
</dd>


<dt>My Windows OS is in Italian/Greek/%other-non-US-language% and IBMulator won't start. What can I do?</dt>
<dd>
The current version of IBMulator won't work if you launch it from a file system path with non-ASCII charachers in it. This is a <a href="https://github.com/barotto/IBMulator/issues/43">known bug</a>. Put the IBMulator package on C:\ or D:\ or wherever you want as long as there are no non-ASCII characters in its path.
</dd>



<dt>What kind of shaders can I use? What kind of extension? i.e. .glsl is valid? .fx is valid?</dt>
<dd>
You can use one of the shaders available in share/ibmulator/gui/shaders. At the moment there are only 2 possible options:

<ul>
<li>use the default shaders (the ones initially set in the ini file), which do simple image scaling
<li>use the fb-scanlines.fs fragment shader, which is the CRT styled scan-line shader by Timothy Lottes
</ul>

The scaling quality is also determined by the *_filter options. So suppose you want to use the scanline shader:
<pre>normal_shader=gui/shaders/fb-scanlines.fs</pre>
This will apply the scanline shader for the normal and compact GUI modes.

If you are an expert GLSL programmer you can create one youself starting from the default shaders. Shaders from other emulators are not directly usable, but could, in theory, be adapted, provided you are a GLSL programmer, of course ;)
</dd>


<dt>In order to play Monkey Island, do I have to create an .img file with all the files of the game?</dt>
<dd>
IBMulator is not simply an emulator (like DOSBox is), it's also a simulator, so it operates using disk images, for both the HDD and floppy disks.

In order to play a game:
<ol>
<li>prepare a HDD image: download a premade one or create a new one. If you decide for the latter, IBMulator will create an empty new disk image for you; you'll have to then install DOS using the DOS install floppy images or you can restore the original IBM software from a restore floppy disk set.
<li>install the game you want to play from its floppy images into the HDD. You can also copy a game's files directly on the HDD's .img using special software capable of manipulating img files: on Linux this is relatively easy, look at the "HDD image" section of the <a href="https://github.com/barotto/IBMulator/blob/master/README.md">README</a>.
</ol>
Using floppy images can (and should) be done through the GUI: click on the floppy drive and a selection window will appear, pointing to the media directory where the floppy images should be located (the default media directory can be set in the ini file under the [program] section).
So at the end of the day, using IBMulator is like using a real IBM PS/1 computer. Sometimes it's incovenient, just like the real thing!
</dd>



<dt>I use the 2121 BIOS but the 4-quad GUI doesn't show up like in 2011. Instead, a "Non system-disk or disk error. Press Enter" appears after memory test. What do I have to do?</dt>
<dd>
The PS/1 2011 has a so-called romdrive in the ROM image with DOS and the 4-quad software in it. The 2121 has 2 versions of the ROM, one with the romdrive and one without. You need to use the 386/16 version of the ROM which has the romdrive built in, or, if you want to use the 386/20 version, you need a HDD image with the IBM's original PS/1 software installed.
</dd>


<dt>There are already plenty of emulators. Why another one?</dt>
<dd>
Why not? Most of the time a FOSS project starts by scratching a developer's personal itch. I had several itches, like: 

<ol>
<li>I wanted an emulator capable of running the IBM software.</li>
<li>At the time (early 2014), nobody was interested in emulating the PS/1 and its audio card.</li>
<li>I was looking for a new free time software project.</li>
<li>I wanted to learn something new (C++11, multithreading, x86 assembly, PC architecture.)</li>
<li>I always wanted to write an emulator.</li>
</ol>

</dd>


<dt>Why didn't you contribute to MESS / PCem / %EmulatorName% instead?</dt>
<dd>
I did think about it, but ended up voting against. Working in an existing environment has its own rather steep learning curve and I'm not an emulation expert nor a C/C++ professional.
</dd>


<dt>Why the IBM PS/1, an overpriced, slow PC compatible that was already absolete at launch?</dt>
<dd>
Nostalgia. Also I think that it has some interesting and dinstinctive features like the ROM SHELL.
</dd>


<dt>Can I contribute?</dt>
<dd>
Sure! See below for contact information.
</dd>


<dt>Can I reuse your code for %EmulatorName%?</dt>
<dd>
Yes, as long as you abide by the GPL's terms and conditions. Also, feel free to contact me for information about the PS/1 and its inner workings.
</dd>

</dl>


<hr />

<a href="#top"><h2 id="contact">Contact</h2></a>
<p>
For bugs and feature requests, please use the
<a href="https://github.com/barotto/IBMulator/issues">
GitHub tracker</a>.
</p>

<hr />

<a href="#top"><h2 id="disclaimer">Disclaimer</h2></a>
<p>
IBMulator is not a product of IBM Corporation nor is it sponsored by IBM Corporation in any way.
<br />
All trademarks and registered trademarks are the property of their respective owners.
</p>

<p style="text-align: center; margin-top: 2cm;">
<img src="c.gif" />
</p>
</body>
</html>

